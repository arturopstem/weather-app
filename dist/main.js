(()=>{"use strict";function t(t){t.replaceChildren()}const e=document.querySelector(".search-form");e.addEventListener("submit",(async function(t){t.preventDefault(),t.target.elements.namedItem("location").getAttribute("aria-invalid")})),e.addEventListener("input",(async function(e){const n=e.target,{list:a}=n,i=n.value.trim();if(i){const e=await async function(t){const e=`http://api.weatherapi.com/v1/search.json?key=cc9bf0bb9b1d436f954212750232709&q=${t}`,n=await fetch(e);return function(t){const e=new Map;return t.forEach((t=>{e.set(t.url,t)})),[...e.values()]}(await n.json())}(i);e.length>0?(n.setAttribute("aria-invalid","false"),function(t,e){t.replaceChildren(),e.forEach((e=>{const{name:n,region:a,country:i}=e,r=document.createElement("option");r.value=`${n} ${a} ${i}`,t.appendChild(r)}))}(a,e)):(n.setAttribute("aria-invalid","true"),t(a))}else n.removeAttribute("aria-invalid"),t(a)}))})();