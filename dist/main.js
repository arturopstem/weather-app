(()=>{"use strict";const e="cc9bf0bb9b1d436f954212750232709",t="https://api.weatherapi.com/v1";function a(e){e.replaceChildren()}function n(e){document.querySelectorAll("button[data-degree]").forEach((t=>{t.dataset.degree===e?(t.classList.remove("secondary","outline"),t.classList.add("primary")):(t.classList.remove("primary"),t.classList.add("secondary","outline"))}))}!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"C";const t=localStorage.getItem("degree");t?n(t):(localStorage.setItem("degree",e),n(e))}();const r=document.querySelector(".search-form");r.addEventListener("submit",(async function(a){a.preventDefault();const n=a.target.elements.namedItem("location");if("false"===n.getAttribute("aria-invalid")){const a=document.querySelector(".main");a.setAttribute("aria-busy","true");const r=n.value.trim(),o=await async function(a){const n=`${t}/forecast.json?key=${e}&q=${a}&days=3&aqi=no&alerts=no`;return(await fetch(n)).json()}(r),i=JSON.stringify(o);localStorage.setItem("forecast-object",i),a.removeAttribute("aria-busy")}})),r.addEventListener("input",(async function(n){const r=n.target,{list:o}=r,i=r.value.trim();if(i){const n=await async function(a){const n=`${t}/search.json?key=${e}&q=${a}`,r=await fetch(n);return function(e){const t=new Map;return e.forEach((e=>{t.set(e.url,e)})),[...t.values()]}(await r.json())}(i);n.length>0?(r.setAttribute("aria-invalid","false"),function(e,t){e.replaceChildren(),t.forEach((t=>{const{name:a,region:n,country:r}=t,o=document.createElement("option");o.value=`${a} ${n} ${r}`,e.appendChild(o)}))}(o,n)):(r.setAttribute("aria-invalid","true"),a(o))}else r.removeAttribute("aria-invalid"),a(o)})),document.querySelector(".degree-menu").addEventListener("click",(function(e){if("BUTTON"===e.target.nodeName){const t=e.target,{degree:a}=t.dataset;localStorage.setItem("degree",a),n(a)}}))})();